<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Get $750 Shein Gift Card</title>
    
    <!--Optional, send client hints to get accurate device data-->
    <meta http-equiv="delegate-ch" content="sec-ch-ua https://cycsrd.mcgo2.com; sec-ch-ua-mobile https://cycsrd.mcgo2.com; sec-ch-ua-arch https://cycsrd.mcgo2.com; sec-ch-ua-model https://cycsrd.mcgo2.com; sec-ch-ua-platform https://cycsrd.mcgo2.com; sec-ch-ua-platform-version https://cycsrd.mcgo2.com; sec-ch-ua-bitness https://cycsrd.mcgo2.com; sec-ch-ua-full-version-list https://cycsrd.mcgo2.com; sec-ch-ua-full-version https://cycsrd.mcgo2.com" />

    <!-- MaxConv Tracking Script Base Code-->
    <script>!function(w,d,o,n,c){w[o]=w[o]||function(){(w[o].q=w[o].q||[]).push(arguments)};var s=d.createElement(n),t=d.getElementsByTagName(n)[0];s.async=!0;s.defer=!0;s.src="//cycsrd.mcgo2.com/t/t.js";t.parentNode.insertBefore(s,t);}(window,document,"maxconv","script");</script>
    <noscript><link rel="stylesheet" href="//cycsrd.mcgo2.com/t/t.css?mc_ns=1" /></noscript>
    <!-- End MaxConv Tracking Script Base Code-->
    
    <!-- TikTok Pixel Code -->
    <script>
    !function (w, d, t) {
        w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["track","page","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};
        ttq.load('D39E4LRC77UFKOQ7L2L0');
        ttq.page();
    }(window, document, 'ttq');
    </script>
    <!-- TikTok Pixel Code End -->
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init','2324406347952889');
    fbq('track','PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
         src="https://www.facebook.com/tr?id=2324406347952889&ev=PageView&noscript=1" />
    </noscript>
    <!-- Meta Pixel Code End -->
    
    <!-- TikTok Event Tracking -->
    <script>
    // Track ViewContent event when page loads
    ttq.track('ViewContent', {
        "contents": [
            {
                "content_id": "shein_landing_page",
                "content_name": "Shein Gift Card Landing Page",
                "content_category": "Fashion Retail",
                "content_type": "Landing Page"
            }
        ]
    });
    
    // Track button clicks
    function trackButtonClick(eventName) {
        ttq.track(eventName, {
            "contents": [
                {
                    "content_id": "shein_landing_page",
                    "content_name": "Shein Gift Card Landing Page",
                    "content_category": "Fashion Retail",
                    "content_type": "Landing Page"
                }
            ]
        });
    }
    </script>
    <!-- TikTok Event Tracking End -->

    <!-- Enhanced MaxConv Integration -->
    <script>
    // Enhanced MaxConv tracking with dynamic parameters
    function setupEnhancedMaxConvTracking() {
        // Wait for MaxConv to load
        if (typeof maxconv === 'undefined') {
            setTimeout(setupEnhancedMaxConvTracking, 100);
            return;
        }

        maxconv(function() {
            // Get router parameters from session storage
            const routerParams = JSON.parse(sessionStorage.getItem('routerParams') || '{}');
            const visitorData = JSON.parse(sessionStorage.getItem('visitorData') || '{}');
            
            // Get current URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const currentParams = {};
            for (const [key, value] of urlParams) {
                currentParams[key] = value;
            }
            
            // Merge all parameters
            const allParams = { ...routerParams, ...currentParams };
            
            // Get visitor data from MaxConv
            const maxconvData = maxconv('getFeatureData');
            const tokens = maxconv('getTokens');
            
            // Log enhanced page view
            maxconv('logEventGoal', 'lander_view', JSON.stringify({
                lander: 'shein_750',
                source: allParams.source || 'direct',
                campaign: allParams.campaign || 'default',
                geo: allParams.geo || maxconvData.country,
                age: allParams.age || 'unknown',
                referrer: allParams.referrer || document.referrer,
                test: allParams.test || '0',
                visitor_country: maxconvData.country,
                visitor_ip: maxconvData.ip,
                timestamp: Date.now()
            }));
            
            // Store enhanced data for button clicks
            window.enhancedTrackingData = {
                allParams,
                maxconvData,
                tokens,
                visitorData
            };
            
            console.log('Enhanced MaxConv Tracking Setup Complete:', {
                allParams,
                maxconvData,
                tokens
            });
        });
    }

    // Enhanced button click tracking
    function trackEnhancedButtonClick(eventName) {
        // TikTok tracking
        ttq.track(eventName, {
            "contents": [
                {
                    "content_id": "shein_landing_page",
                    "content_name": "Shein Gift Card Landing Page",
                    "content_category": "Fashion Retail",
                    "content_type": "Landing Page"
                }
            ]
        });
        
        // Facebook tracking
        fbq('track', 'Lead');
        
        // Enhanced MaxConv tracking
        if (typeof maxconv !== 'undefined' && window.enhancedTrackingData) {
            maxconv(function() {
                maxconv('logEventGoal', 'button_click', JSON.stringify({
                    event: eventName,
                    lander: 'shein_750',
                    ...window.enhancedTrackingData.allParams,
                    timestamp: Date.now()
                }));
                
                // Log conversion with enhanced data
                maxconv('logConversion', {
                    payout: 750,
                    event: 'lead',
                    ...window.enhancedTrackingData.allParams
                });
            });
        }
    }

    // Dynamic offer link generation
    function generateDynamicOfferLink() {
        if (typeof maxconv !== 'undefined' && window.enhancedTrackingData) {
            maxconv(function() {
                // Generate dynamic offer link based on parameters
                const offerLink = maxconv('getOfferLink');
                
                // Add custom parameters to the offer link
                const url = new URL(offerLink);
                Object.keys(window.enhancedTrackingData.allParams).forEach(key => {
                    if (window.enhancedTrackingData.allParams[key]) {
                        url.searchParams.set(key, window.enhancedTrackingData.allParams[key]);
                    }
                });
                
                // Update all CTA buttons with the enhanced link
                const ctaButtons = document.querySelectorAll('.claim-button, .cta-form-button');
                ctaButtons.forEach(button => {
                    if (button.tagName === 'A') {
                        button.href = url.toString();
                    } else if (button.tagName === 'BUTTON') {
                        button.onclick = function() {
                            trackEnhancedButtonClick('ClickButton');
                            window.location.href = url.toString();
                            return false;
                        };
                    }
                });
                
                console.log('Dynamic offer link generated:', url.toString());
            });
        }
    }

    // Initialize enhanced tracking
    document.addEventListener('DOMContentLoaded', function() {
        setupEnhancedMaxConvTracking();
        
        // Generate dynamic links after MaxConv loads
        setTimeout(generateDynamicOfferLink, 500);
    });
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            background: #f8f8f8;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            color: #2f3033;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        /* Particle background */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }

        /* Main card with floating animation */
        .reward-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            padding: 1.5rem 1.2rem;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(10px);
            border: 1px solid #d32f2f33;
            max-width: 420px;
            width: 100%;
            box-shadow: 0 10px 30px #d32f2f1a, 0 1px 8px #d32f2f33;
            animation: cardFloat 3s ease-in-out infinite;
        }

        @keyframes cardFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* App logo section */
        .app-logo-container {
            text-align: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #d32f2f1a;
        }

        .app-logo {
            width: 120px;
            height: 120px;
            filter: drop-shadow(0 4px 12px #d32f2f4d);
            animation: logoShine 3s infinite;
            display: block;
            margin: 0 auto;
            border-radius: 24px;
        }

        @keyframes logoShine {
            0% { filter: drop-shadow(0 4px 12px #d32f2f4d); }
            50% { filter: drop-shadow(0 8px 20px #d32f2f80); }
            100% { filter: drop-shadow(0 4px 12px #d32f2f4d); }
        }

        .app-title {
            font-size: 2rem;
            font-weight: 800;
            margin-top: 0.8rem;
            color: #000000;
            text-shadow: 0 4px 20px #d32f2f4d;
        }

        /* Money amount section */
        .amount {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            color: #d32f2f;
            margin: 0.5rem 0;
            text-shadow: 0 4px 20px #d32f2f4d;
            animation: amountPulse 2s infinite;
        }

        @keyframes amountPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .amount-subtext {
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #040404;
            text-shadow: 0 2px 10px #d32f2f4d;
        }

        /* Instructions container */
        .instructions-container {
            margin: 1.2rem auto;
            padding: 1rem;
            background: #d32f2f0d;
            border-radius: 16px;
            border: 1px solid #d32f2f1a;
        }

        .instruction-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 0;
            font-size: 1rem;
            color: #2f3033;
            font-weight: 600;
        }

        .number {
            background: #d32f2f;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(211, 47, 47, 0.2);
            flex-shrink: 0;
        }

        /* CTA Button */
        .claim-button {
            background: #d32f2f;
            color: white;
            border: none;
            padding: 1.1rem;
            border-radius: 50px;
            font-weight: 800;
            font-size: 1.2rem;
            width: 100%;
            cursor: pointer;
            margin: 1.2rem auto 0.8rem;
            display: block;
            box-shadow: 0 10px 30px #d32f2f4d, 0 5px 15px #d32f2f33;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }

        .claim-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px #d32f2f66, 0 8px 20px #d32f2f4d;
        }

        .claim-button:active {
            transform: translateY(-2px);
        }

        /* Form fallback CTA for TikTok WebView reliability */
        .cta-form {
            display: none;
            width: 100%;
            margin: 1.2rem auto 0.8rem;
        }

        .cta-form-button {
            background: #d32f2f;
            color: white;
            border: none;
            padding: 1.1rem;
            border-radius: 50px;
            font-weight: 800;
            font-size: 1.2rem;
            width: 100%;
            cursor: pointer;
            display: block;
            box-shadow: 0 10px 30px #d32f2f4d, 0 5px 15px #d32f2f33;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }

        .cta-form-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px #d32f2f66, 0 8px 20px #d32f2f4d;
        }

        .cta-form-button:active {
            transform: translateY(-2px);
        }


        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 32px #d32f2f33;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            color: #2f3033;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid #d32f2f33;
            transition: transform 0.3s ease;
            max-width: 320px;
            width: calc(100% - 2rem);
        }

        .notification.show {
            transform: translateX(-50%) translateY(0);
        }

        .notification-icon {
            width: 30px;
            height: 30px;
            background: #d32f2f;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            flex-shrink: 0;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 2px;
            color: #2f3033;
        }

        .notification-text {
            color: #666;
            font-size: 13px;
        }

        /* Mobile optimizations */
        @media (max-width: 380px) {
            .reward-card {
                padding: 1.2rem 1rem;
            }
            
            .app-logo {
                width: 100px;
                height: 100px;
            }
            
            .app-title {
                font-size: 1.8rem;
            }
            
            .amount {
                font-size: 2.2rem;
            }
            
            .amount-subtext {
                font-size: 1.1rem;
            }
            
            .instruction-item {
                font-size: 0.95rem;
            }
            
            .claim-button {
                font-size: 1.1rem;
                padding: 1rem;
            }
        }

        /* TikTok WebView specific optimizations */
        @media screen and (max-width: 480px) {
            input, textarea, select {
                font-size: 16px !important;
            }
        }

        /* Prevent zoom on input focus for TikTok WebView */
        .cta-form-button {
            -webkit-tap-highlight-color: rgba(211, 47, 47, 0.3);
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            -webkit-appearance: none;
            appearance: none;
            min-height: 44px;
        }

        /* Instagram Testimonials */
        .instagram-testimonials {
            margin-top: 16px;
            margin-bottom: 16px;
        }

        .testimonials-header {
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            color: #2f3033;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .instagram-icon {
            width: 16px;
            height: 16px;
            background: linear-gradient(45deg, #d32f2f 0%, #b71c1c 100%);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .testimonial-card {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #eee;
            border-radius: 16px;
            padding: 12px;
            margin-bottom: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }

        .testimonial-header {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .testimonial-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            margin-right: 10px;
            object-fit: cover;
            border: 2px solid #fff;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .testimonial-info {
            flex: 1;
        }

        .testimonial-username {
            font-size: 13px;
            font-weight: 600;
            color: #2f3033;
            margin-bottom: 1px;
        }

        .testimonial-time {
            font-size: 11px;
            color: #666;
        }

        .testimonial-text {
            font-size: 13px;
            line-height: 1.4;
            color: #2f3033;
            margin-bottom: 6px;
        }

        .testimonial-amount {
            font-weight: 700;
            color: #d32f2f;
        }

        .testimonial-engagement {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 11px;
            color: #666;
        }

        .engagement-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }
    </style>
</head>
<body>
    <!-- Particle background canvas -->
    <canvas id="particles-js"></canvas>

    <!-- Main container -->
    <div class="reward-card">
        <div class="app-logo-container">
            <img src="image.png" 
                 alt="Shein" 
                 class="app-logo">
            <div class="app-title">Shein</div>
        </div>

        <div class="amount"><span id="currency-symbol">$</span><span id="counter">0.00</span></div>
        <div class="amount-subtext">Gift Card Instantly Sent</div>

        <div class="instructions-container">
            <div class="instruction-item">
                <span class="number">1</span>
                <span>Complete 3-5 required deals</span>
            </div>
            <div class="instruction-item">
                <span class="number">2</span>
                <span>Provide a valid email address</span>
            </div>
            <div class="instruction-item">
                <span class="number">3</span>
                <span>Ensure you're 18 years or older</span>
            </div>
            <div class="instruction-item">
                <span class="number">4</span>
                <span>Limited Space: Only 189 spots remaining!</span>
            </div>
        </div>

        <a href="https://cycsrd.mcgo2.com/click" class="claim-button" onclick="trackEnhancedButtonClick('ClickButton');">
            Claim $750 Gift Card ‚Üí
        </a>

        <!-- Form fallback CTA for TikTok WebView reliability -->
        <form action="https://cycsrd.mcgo2.com/click" method="get" class="cta-form" id="fallback-cta">
            <input type="hidden" name="cb" value="SHEIN">
            <input type="hidden" name="t" value="" id="timestamp">
            <button type="submit" class="cta-form-button" onclick="trackEnhancedButtonClick('ClickButton');">
                Claim $750 Gift Card ‚Üí
            </button>
        </form>

        <!-- Instagram Testimonials -->
        <div class="instagram-testimonials">
            <div class="testimonials-header">
                <div class="instagram-icon">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                </div>
                Recent Success Stories
            </div>
            <div class="testimonial-card">
                <div class="testimonial-header">
                    <img src="https://img.funnelish.com/69400/818190/1751222976-Random%20User%20Photo%20%281%29.jpg" alt="Profile" class="testimonial-avatar">
                    <div class="testimonial-info">
                        <div class="testimonial-username">@sarah_achiever</div>
                        <div class="testimonial-time">2h ago</div>
                    </div>
                </div>
                <div class="testimonial-text">
                    Started yesterday and already earned <span class="testimonial-amount">$438</span> with Shein rewards! The process is so simple ‚ú®
                </div>
                <div class="testimonial-engagement">
                    <div class="engagement-item">
                        <span>‚ù§Ô∏è</span>
                        <span>89</span>
                    </div>
                    <div class="engagement-item">
                        <span>üí¨</span>
                        <span>23</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-header">
                    <img src="https://img.funnelish.com/69400/818190/1751222979-Random%20User%20Photo%2082.jpg" alt="Profile" class="testimonial-avatar">
                    <div class="testimonial-info">
                        <div class="testimonial-username">@emma_davis</div>
                        <div class="testimonial-time">5h ago</div>
                    </div>
                </div>
                <div class="testimonial-text">
                    Week 3 update: <span class="testimonial-amount">$1,372 total earned</span> sent straight to my Shein gift card üéâ
                </div>
                <div class="testimonial-engagement">
                    <div class="engagement-item">
                        <span>‚ù§Ô∏è</span>
                        <span>156</span>
                    </div>
                    <div class="engagement-item">
                        <span>üí¨</span>
                        <span>34</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-header">
                    <img src="https://img.funnelish.com/69400/818190/1751222981-Random%20User%20Photo.jpg" alt="Profile" class="testimonial-avatar">
                    <div class="testimonial-info">
                        <div class="testimonial-username">@mikejohnson_22</div>
                        <div class="testimonial-time">1d ago</div>
                    </div>
                </div>
                <div class="testimonial-text">
                    Just completed my 4th deal today! <span class="testimonial-amount">Made $683 this week</span> and got paid via Shein gift card üí∞ This actually works guys! üî•
                </div>
                <div class="testimonial-engagement">
                    <div class="engagement-item">
                        <span>‚ù§Ô∏è</span>
                        <span>47</span>
                    </div>
                    <div class="engagement-item">
                        <span>üí¨</span>
                        <span>12</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Counter animation
        function animateValue(element, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const currentValue = progress * (end - start) + start;
                element.textContent = currentValue.toFixed(2);
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        // Currency detection and counter animation
        function detectCurrency() {
            const currencySymbol = document.getElementById('currency-symbol');
            const counterElement = document.getElementById('counter');
            
            // Set to dollar symbol globally for USA
            currencySymbol.textContent = '$';
            animateValue(counterElement, 0, 750, 2000);
        }

        // Start currency detection and counter animation on load
        window.addEventListener('load', function() {
            detectCurrency();
        });

        // Notification names - more diverse and realistic
        const NAMES = [
            'Jayden K.', 'Aaliyah M.', 'Carlos R.', 'Destiny W.', 'Malik J.',
            'Kiara T.', 'Ethan Z.', 'Jasmine L.', 'Diego S.', 'Trinity B.',
            'Aiden P.', 'Camila V.', 'Jordan C.', 'Ariana G.', 'Mason D.',
            'Zoe H.', 'Isaiah N.', 'Gabriella F.', 'Liam O.', 'Sophia Y.',
            'DeAndre W.', 'Fatima A.', 'Kai L.', 'Luna R.', 'Javier M.',
            'Amara K.', 'Tyrese B.', 'Valentina C.', 'Ryder T.', 'Naomi S.',
            'Dante P.', 'Aliyah J.', 'Mateo G.', 'Khloe D.', 'Jamal H.',
            'Zara N.', 'Phoenix R.', 'Layla M.', 'Nico V.', 'Amelia K.',
            'Darius L.', 'Sienna W.', 'Ezra B.', 'Maya T.', 'Kingston J.',
            'Nyla F.', 'Roman S.', 'Eliana C.', 'Kayden M.', 'Aubrey P.'
        ];

        // Most popular US states
        const STATES = [
            'CA', 'TX', 'FL', 'NY', 'PA', 'IL', 'OH', 'GA', 'NC', 'MI',
            'NJ', 'VA', 'WA', 'AZ', 'MA', 'TN', 'IN', 'MD', 'MO', 'WI',
            'CO', 'MN', 'SC', 'AL', 'LA', 'KY', 'OR', 'OK', 'CT', 'NV'
        ];

        // Create notification function
        function createNotification() {
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            // Get random name and state
            const randomName = NAMES[Math.floor(Math.random() * NAMES.length)];
            const randomState = STATES[Math.floor(Math.random() * STATES.length)];
            
            // Get current currency symbol
            const currencySymbol = document.getElementById('currency-symbol').textContent;
            
            // Generate random amount between 500 and 750
            const randomAmount = (Math.random() * 250 + 500).toFixed(2);
            
            notification.innerHTML = `
                <div class="notification-icon">
                    <img src="image.png" 
                         alt="Shein" 
                         style="width: 24px; height: 24px; border-radius: 50%; object-fit: cover;">
                </div>
                <div class="notification-content">
                    <div class="notification-title">Recent Claim</div>
                    <div class="notification-text">${randomName} from ${randomState} claimed ${currencySymbol}${randomAmount}!</div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Hide and remove notification
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 5000);
        }

        // Start notifications
        setTimeout(() => {
            createNotification();
            setInterval(() => {
                createNotification();
            }, Math.random() * 4000 + 8000);
        }, 3000);

        // Geometric particles animation
        (function() {
            const canvas = document.getElementById('particles-js');
            const ctx = canvas.getContext('2d');
            const particles = [];
            const particleCount = 30;
            const maxDistance = 150;
            const mousePos = { x: null, y: null };
            
            // Set canvas size
            function setCanvasSize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            setCanvasSize();
            window.addEventListener('resize', setCanvasSize);
            
            // Track mouse position
            window.addEventListener('mousemove', (e) => {
                mousePos.x = e.clientX;
                mousePos.y = e.clientY;
            });
            
            // Particle class
            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.vx = (Math.random() - 0.5) * 0.8;
                    this.vy = (Math.random() - 0.5) * 0.8;
                    this.radius = 3;
                }
                
                update() {
                    this.x += this.vx;
                    this.y += this.vy;
                    
                    // Bounce off walls
                    if (this.x < 0 || this.x > canvas.width) this.vx = -this.vx;
                    if (this.y < 0 || this.y > canvas.height) this.vy = -this.vy;
                    
                    // Mouse repulsion
                    if (mousePos.x !== null && mousePos.y !== null) {
                        const dx = this.x - mousePos.x;
                        const dy = this.y - mousePos.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < 100) {
                            const force = (100 - distance) / 100;
                            this.x += dx * force * 0.02;
                            this.y += dy * force * 0.02;
                        }
                    }
                }
                
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = '#d32f2f';
                    ctx.fill();
                }
            }
            
            // Create particles
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
            
            // Animation loop
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Update and draw particles
                particles.forEach((particle, i) => {
                    particle.update();
                    particle.draw();
                    
                    // Draw connections
                    particles.slice(i + 1).forEach(otherParticle => {
                        const dx = particle.x - otherParticle.x;
                        const dy = particle.y - otherParticle.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < maxDistance) {
                            ctx.beginPath();
                            ctx.moveTo(particle.x, particle.y);
                            ctx.lineTo(otherParticle.x, otherParticle.y);
                            const opacity = (1 - distance / maxDistance) * 0.4;
                            ctx.strokeStyle = `rgba(211, 47, 47, ${opacity})`;
                            ctx.lineWidth = 1;
                            ctx.stroke();
                        }
                    });
                });
                
                requestAnimationFrame(animate);
            }
            
            animate();
        })();

        // TikTok WebView optimization: Show form fallback if anchor fails
        function setupTikTokWebViewOptimization() {
            const ctaButton = document.querySelector('.claim-button');
            const ctaForm = document.querySelector('.cta-form');
            const timestampInput = document.getElementById('timestamp');
            
            // Set timestamp for form
            if (timestampInput) {
                timestampInput.value = Date.now();
            }
            
            // If anchor link fails to work, show form fallback
            let anchorClicked = false;
            
            ctaButton.addEventListener('click', function(e) {
                anchorClicked = true;
                // If we're still here after a short delay, anchor probably failed
                setTimeout(() => {
                    if (anchorClicked) {
                        ctaButton.style.display = 'none';
                        ctaForm.style.display = 'block';
                    }
                }, 1000);
            });
            
            // Reset if user navigates back
            window.addEventListener('pageshow', function() {
                anchorClicked = false;
                ctaButton.style.display = 'block';
                ctaForm.style.display = 'none';
            });
        }

        // Initialize TikTok WebView optimization
        setupTikTokWebViewOptimization();
    </script>
</body>
</html>